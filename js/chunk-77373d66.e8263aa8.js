(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77373d66","chunk-45fd51f9","chunk-75e40762","chunk-2d2307dd"],{"0dac":function(e,t,a){"use strict";a("c810")},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a("6b75");function n(e){if(Array.isArray(e))return Object(r["a"])(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var s=a("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){return n(e)||o(e)||Object(s["a"])(e)||l()}},"4c6d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-table",{attrs:{size:"small",columns:e.columns,"data-source":e.data,loading:e.tableLoading,pagination:e.pagination,rowKey:function(e){return e["tableIndex"]},expandedRowKeys:e.expandedRowKeys},on:{expandedRowsChange:e.expandedRowsChange},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return[t.FJLIST&&t.FJLIST.length>0?[e._l(t.FJLIST,(function(r,n){return[a("a-row",{key:n,style:{marginBottom:"4px",textAlign:"left",background:"#E6F7FF"}},[a("a-col",{staticStyle:{left:"45px"},attrs:{span:"18"}},[a("a",{style:{marginRight:"10px"},attrs:{href:r.FJURL,target:"_blank"}},[e._v(e._s(r.FJNAME||"-"))])]),a("a-col",{staticStyle:{"text-align":"right",right:"40px"},attrs:{span:"6"}},[0==e.disabled?a("a-button",{attrs:{type:"link",size:"small"},on:{click:function(a){return e.deleteFile(t,n)}}},[e._v("删除")]):e._e()],1)],1)]}))]:a("s-empty")]}},{key:"action",fn:function(t,r){return[a("a-upload",{attrs:{action:e.MaterialUpload,multiple:!0,"file-list":r.action,showUploadList:!1},on:{change:function(t){return e.handleChange(t,r)}}},[a("a-button",{attrs:{size:"small",type:"primary",icon:"upload"}})],1)]}}])})],1)},n=[],o=(a("d81d"),a("a434"),a("2909")),s=a("5530"),l=a("377c"),i=a("ed08"),u=a("b405"),c={name:"UploadTable",components:{"s-empty":u["default"]},props:{tableData:{default:function(){},type:Object,required:!0},disabled:{default:!1,type:Boolean,required:!1},pagination:{default:!1,type:Boolean,required:!1}},data:function(){return{showTemplate:!0,data:[],columns:[],tableLoading:!1,MaterialUpload:l["K"],expandedRowKeys:[]}},computed:{},watch:{tableData:{handler:function(e,t){if(!this._.isEmpty(e)){this.tableLoading=!0;var a=JSON.parse(JSON.stringify(this.tableData));this.columns=this.getTableColumn(a),this.data=this.getTableData(a),this.handleExpandedRows(),this.tableLoading=!1}},immediate:!0,deep:!0}},created:function(){},mounted:function(){},methods:{getTableColumn:function(e){if(this._.isEmpty(e))return{};var t=i["b"].handleColumns(e);return t.push({dataIndex:"action",key:"action",title:"操作",scopedSlots:{customRender:"action"}}),t},getTableData:function(e){var t=[];if(this._.isEmpty(e))t=[];else{var a=e.rowsList;a&&(t=a.map((function(e,t){return Object(s["a"])(Object(s["a"])({},e),{},{tableIndex:t,action:[]})})))}return t},handleChange:function(e,t){var a=Object(o["a"])(e.fileList),r=e.file;r.response&&"done"===r.status?0===r.response.code?(t.FJLIST.push({FJNAME:r.response.data[0].fileName,FJURL:r.response.data[0].fileUrl}),this.expandedRowKeys.push(t.tableIndex)):this.$message.error("文件上传失败！"):"error"===r.status&&this.$message.error("文件上传失败！"),a=a.map((function(e){return e.response&&"done"===e.status&&e.response.code,e})),t.action=a},deleteFile:function(e,t){e.FJLIST.splice(t,1),e.FJLIST&&0===e.FJLIST.length&&(this.expandedRowKeys=[])},getSubmitData:function(){var e=JSON.parse(JSON.stringify(this.data));return e.map((function(e,t){return delete e.tableIndex,delete e.action,e}))},isAllSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!0;return this.data&&this.data.length>0?this.data.map((function(a,r){e?a.FJLIST.length<=0&&a.SFBX&&"是"===a.SFBX&&(t=!1):a.FJLIST.length<=0&&(t=!1)})):t=!1,t},handleExpandedRows:function(){var e=this;this.data.map((function(t,a){t.FJLIST&&t.FJLIST.length>0&&e.expandedRowKeys.push(t.tableIndex)}))},expandedRowsChange:function(e){this.expandedRowKeys=e}}},d=c,f=(a("0dac"),a("2877")),p=Object(f["a"])(d,r,n,!1,null,"681a6d02",null);t["default"]=p.exports},b405:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-empty",{attrs:{image:e.imgPath,"image-style":{height:e.height}}},[a("span",{attrs:{slot:"description"},slot:"description"})])},n=[],o={name:"SEmpty",components:{},props:{height:{default:"100%",type:String}},data:function(){return{imgPath:a("f3f6")}},computed:{},watch:{},created:function(){},methods:{}},s=o,l=a("2877"),i=Object(l["a"])(s,r,n,!1,null,"138622d4",null);t["default"]=i.exports},c810:function(e,t,a){},ed08:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));a("4de4"),a("d81d"),a("45fc");var r={handleResultTableData:function(e){var t=[],a=[],r=[];return Array.isArray(e)?(t=e[0].tableResults.columns,a=e[0].tableResults.hideColumns,r=e[0].tableResults.rowsList):Window._.isPlainObject(e)&&e.hasOwnProperty("tableResults")?(t=e.tableResults.columns,a=e.tableResults.hideColumns,r=e.tableResults.rowsList):(t=e.columns,a=e.hideColumns,r=e.rowsList),{columns:t,hideColumns:a,rowsList:r}},deleteHideColumns:function(e){var t=this.handleResultTableData(e),a=t.columns,r=t.hideColumns;t.rowsList;return a.filter((function(e){return!r.some((function(t){return t===e["key"]}))}))},handleColumns:function(e){var t=this.handleResultTableData(e),a=t.columns,r=t.hideColumns,n=(t.rowsList,a.filter((function(e){return!r.some((function(t){return e.key===t}))})));return n.map((function(e,t){return{dataIndex:e["key"],key:e["key"],scopedSlots:{customRender:e["key"]},title:e["label"]}}))},table2Desc:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t,n=this.handleResultTableData(e),o=n.columns,s=n.hideColumns,l=n.rowsList,i=[];i=a?o.filter((function(e){return!s.some((function(t){return t===e["key"]}))})):o;var u=l.map((function(e,t){var a=[];return i.map((function(t,n){"textarea"===t.type?a.push({label:t.label,key:t.key,value:e[t.key],span:3}):a.push({label:t.label,key:t.key,value:e[t.key],span:r})})),a}));return u}},n={reloadComponent:function(e){var t=e.$route.path;e.$router.push({path:"/FixRouter",query:{path:t}})}}},f3f6:function(e,t,a){e.exports=a.p+"img/empty.eb1f7831.png"},f486:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"99%"}},[a("a-form-model",{ref:"ruleForm",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-col":{span:4},"wrapper-col":{span:17}}},[a("a-form-model-item",{ref:"REC_XMLX",attrs:{label:"项目类型",prop:"REC_XMLX"}},[a("a-cascader",{attrs:{options:e.XMLX_List,"show-search":{XMLXfilter:e.XMLXfilter},placeholder:"请选择项目类型",allowClear:!1},on:{change:e.XMLXChange},model:{value:e.form.REC_XMLX,callback:function(t){e.$set(e.form,"REC_XMLX",t)},expression:"form.REC_XMLX"}})],1),a("a-form-model-item",{ref:"REC_XMMC",attrs:{label:"项目名称",prop:"REC_XMMC"}},[a("a-input",{attrs:{placeholder:"请填写项目名称"},model:{value:e.form.REC_XMMC,callback:function(t){e.$set(e.form,"REC_XMMC",t)},expression:"form.REC_XMMC"}})],1),a("a-row",{attrs:{gutter:4}},[a("a-col",{attrs:{span:"8"}},[a("a-form-model-item",{ref:"REC_XZQ",attrs:{label:"项目地点",prop:"REC_XZQ",labelCol:{span:12},wrapperCol:{span:12}}},[a("a-select",{attrs:{placeholder:"请选择项目地点"},on:{change:e.handleXZQChange},model:{value:e.form.REC_XZQ,callback:function(t){e.$set(e.form,"REC_XZQ",t)},expression:"form.REC_XZQ"}},e._l(e.GCDDSelectList,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1),a("a-col",{attrs:{span:"13"}},[a("a-form-model-item",{ref:"REC_GCXXDD",attrs:{label:"",prop:"REC_GCXXDD",wrapperCol:{span:24}}},[a("a-input",{attrs:{placeholder:"请填写项目详细地址"},model:{value:e.form.REC_GCXXDD,callback:function(t){e.$set(e.form,"REC_GCXXDD",t)},expression:"form.REC_GCXXDD"}})],1)],1)],1),a("a-form-model-item",{ref:"REC_XMNRJYQ",attrs:{label:"项目内容及要求",prop:"REC_XMNRJYQ"}},[a("a-textarea",{attrs:{placeholder:"请填写项目内容及要求",rows:4},model:{value:e.form.REC_XMNRJYQ,callback:function(t){e.$set(e.form,"REC_XMNRJYQ",t)},expression:"form.REC_XMNRJYQ"}})],1),a("a-row",[a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"REC_WTDW",attrs:{label:"委托人（单位）",prop:"REC_WTDW",labelCol:{span:8},wrapperCol:{span:14}}},[a("a-input",{model:{value:e.form.REC_WTDW,callback:function(t){e.$set(e.form,"REC_WTDW",t)},expression:"form.REC_WTDW"}})],1)],1),a("a-col",{attrs:{span:"9"}},[a("a-form-model-item",{ref:"REC_LXHM",attrs:{label:"联系号码",prop:"REC_LXHM",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{attrs:{placeholder:"例如：020-23380999 或者 15812341234"},model:{value:e.form.REC_LXHM,callback:function(t){e.$set(e.form,"REC_LXHM",t)},expression:"form.REC_LXHM"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"REC_ZJLX",attrs:{label:"证件类型",prop:"REC_ZJLX",labelCol:{span:8},wrapperCol:{span:14}}},[a("a-select",{attrs:{placeholder:"请选择证件类型"},on:{change:e.handleZJLXChange},model:{value:e.form.REC_ZJLX,callback:function(t){e.$set(e.form,"REC_ZJLX",t)},expression:"form.REC_ZJLX"}},e._l(e.ZJLXSelectList,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.value}},[e._v(e._s(t.value))])})),1)],1)],1),a("a-col",{attrs:{span:"9"}},[a("a-form-model-item",{ref:"REC_ZJHM",attrs:{label:"证件号码",prop:"REC_ZJHM",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{attrs:{placeholder:"请填写证件号码"},model:{value:e.form.REC_ZJHM,callback:function(t){e.$set(e.form,"REC_ZJHM",t)},expression:"form.REC_ZJHM"}})],1)],1)],1),a("a-form-model-item",{ref:"FILE",attrs:{label:"材料附件",prop:"FILE"}},[a("upload-table",{ref:"dfTable",attrs:{tableData:e.tableData,disabled:!1}})],1),a("a-form-model-item",{ref:"REC_QJFS",attrs:{label:"成果领取方式",prop:"REC_QJFS"}},[a("a-radio-group",{model:{value:e.form.REC_QJFS,callback:function(t){e.$set(e.form,"REC_QJFS",t)},expression:"form.REC_QJFS"}},[e._l(e.CGLQFSList,(function(t){return[a("a-radio",{key:t.key,attrs:{value:t.value}},[e._v(e._s(t.value))])]}))],2)],1),"邮件快递"==e.form.REC_QJFS?[a("a-row",[a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"REC_SJR",attrs:{label:"邮寄联系人",prop:"REC_SJR",labelCol:{span:8},wrapperCol:{span:14}}},[a("a-input",{model:{value:e.form.REC_SJR,callback:function(t){e.$set(e.form,"REC_SJR",t)},expression:"form.REC_SJR"}})],1)],1),a("a-col",{attrs:{span:"12"}},[a("a-form-model-item",{ref:"REC_SJDH",attrs:{label:"邮寄联系方式",prop:"REC_SJDH",labelCol:{span:6},wrapperCol:{span:12}}},[a("a-input",{model:{value:e.form.REC_SJDH,callback:function(t){e.$set(e.form,"REC_SJDH",t)},expression:"form.REC_SJDH"}})],1)],1)],1),a("a-form-model-item",{ref:"REC_SJDZ",attrs:{label:"邮寄收件地址",prop:"REC_SJDZ"}},[a("a-input",{model:{value:e.form.REC_SJDZ,callback:function(t){e.$set(e.form,"REC_SJDZ",t)},expression:"form.REC_SJDZ"}})],1)]:e._e()],2),a("div",{staticStyle:{"text-align":"center",margin:"20px"}},[a("a-checkbox",{on:{change:e.checkBoxChange}},[a("span",{staticStyle:{color:"red"}},[e._v(" 本人郑重声明：填写信息、资料上传全部真实可靠，无弄虚作假行为。如有不符，本人愿意承担所有由此引起的法律后果。 ")])])],1)],1)},n=[],o=(a("c975"),a("d81d"),a("45fc"),a("5530")),s=a("2f62"),l=a("04b8"),i=a("ba93"),u=a("4c6d"),c={name:"DelegateForm",components:{"upload-table":u["default"]},props:{},data:function(){var e=this;return{lightApi:i["a"],form:{REC_XMMC:"",REC_XMLX:[],REC_XZQ:"",REC_GCXXDD:"",REC_XMNRJYQ:"",REC_WTDW:"",REC_LXHM:"",REC_ZJLX:"",REC_ZJHM:"",REC_QJFS:"窗口自取",REC_SJDZ:"",REC_SJR:"",REC_SJDH:"",FILE:[]},rules:{REC_XMMC:[{required:!0,message:"请填写项目名称",trigger:["change","blur"]}],REC_XZQ:[{required:!0,message:"请选择项目地点",trigger:"change"}],REC_XMLX:[{required:!0,message:"请选择项目类型",trigger:"change"}],REC_GCXXDD:[{required:!0,message:"请正确填写项目详细地址",trigger:["change","blur"]}],REC_XMNRJYQ:[{required:!0,message:"请正确填写项目内容及要求",trigger:["change","blur"]}],FILE:[{required:!0,message:" ",validator:function(t,a,r){e.$refs.dfTable.isAllSubmit()?r():r(new Error("请上传所有材料"))}}],REC_WTDW:[{required:!0,message:"请正确填写委托人（单位）",trigger:["change","blur"]}],REC_LXHM:[{required:!0,message:"请正确填写联系电话",trigger:["change","blur"],validator:function(e,t,a){Object(l["d"])(t)||Object(l["c"])(t)?a():a(new Error("请正确填写联系电话"))}}],REC_ZJLX:[{required:!0,message:"请选择合适的证件类型",trigger:["change","blur"]}],REC_ZJHM:[{required:!0,message:"请填写正确的证件号码",trigger:["change","blur"]}],REC_QJFS:[{required:!0,message:"请选择取件方式",trigger:"change"}],REC_SJDZ:[{required:!0,message:"请填写邮寄收件地址",trigger:"blur"}],REC_SJR:[{required:!0,message:"请填写邮寄联系人",trigger:"blur"}],REC_SJDH:[{required:!0,message:"请填写邮寄联系方式",trigger:"blur"}]},ZJLXSelectList:[],CGLQFSList:[],XMLX_List:[],GCDDSelectList:[],QJDZ:"",WTS:{},tableData:{columns:[],hideColumns:[],rowsList:[]},isAgreeProtocol:!1}},computed:Object(o["a"])({},Object(s["c"])({user:"userInfo"})),watch:{},created:function(){},mounted:function(){this.getDataFromUserInfo(),this.getYWWT(),this.GetSurveyType()},methods:{getDataFromUserInfo:function(){var e=this.user;for(var t in e)e.hasOwnProperty(t)&&("DWMC"===t&&(this.form["REC_WTDW"]=e[t]),"MOBILEPHONE"===t&&(this.form["REC_LXHM"]=e[t]),"ZJLX"===t&&(this.form["REC_ZJLX"]=e[t]),"ZJHM"===t&&(this.form["REC_ZJHM"]=e[t]),"DWMC"===t&&(this.form["REC_WTDW"]=e[t]))},getYWWT:function(){var e=this;this.$WebApi.preBusiness["GetSurveyAndLocal"]().then((function(t){if(t.hasOwnProperty("XZQ")){var a=t["XZQ"].map((function(e,t){return e["value"]}));e.GCDDSelectList=a}t.hasOwnProperty("ZJLX")&&(e.ZJLXSelectList=t["ZJLX"]),t.hasOwnProperty("CGLQFS")&&(e.CGLQFSList=t["CGLQFS"])})).catch((function(e){}))},GetSurveyType:function(){var e=this;this.$WebApi.preBusiness["GetSurveyType"]().then((function(t){e.XMLX_List=t})).catch((function(e){}))},handleXZQChange:function(e){},handleZJLXChange:function(){},getCLWTS:function(){var e=this;this.$WebApi.preBusiness["GetEntrustTempWeb"]().then((function(t){e.WTS=t.rowsList[0]})).catch((function(e){}))},clsxChange:function(e){},GetProvideFileList:function(e){var t=this;this.$WebApi.preBusiness["GetProvideFileList"]({sWTSX:e}).then((function(e){e["rowsList"]&&e["rowsList"].length>0&&(t.tableData=e)})).catch((function(e){}))},getTableData:function(){return{columns:[{label:"序号",key:"index",type:"text"},{label:"材料名称",key:"CLMC",type:"text"},{label:"备注说明",key:"BZSM",type:"text"},{label:"附件",key:"FJLIST",type:"text"}],hideColumns:["BZSM","FJLIST"],rowsList:[{index:"1",CLMC:"规划核实测量委托书",BZSM:"",FJLIST:[{FJNAME:"1",FJURL:"https://pic2.zhimg.com/v2-9a3ca8a336873f523cc2c4fcdba8c57c_is.jpg"},{FJNAME:"2",FJURL:"https://pic3.zhimg.com/50/v2-18c956fe89878bfbf89e4605d69363bb_400x224.jpg"}]},{index:"2",CLMC:"土地测绘委托书",BZSM:"",FJLIST:[]},{index:"3",CLMC:"房产实测委托书",BZSM:"",FJLIST:[]}]}},isFulfillSubmit:function(){var e;return this.$refs.ruleForm.validate((function(t,a){if(!t)return e=!1,!1;e=!0})),e},getFormData:function(){return this.form.FILE=this.$refs.dfTable.getSubmitData(),this.form},checkBoxChange:function(e){this.isAgreeProtocol=e.target.checked},XMLXfilter:function(e,t){return t.some((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))},XMLXChange:function(e,t){var a=t[t.length-1].value;this.GetProvideFileList(a)}}},d=c,f=a("2877"),p=Object(f["a"])(d,r,n,!1,null,"3444f718",null);t["default"]=p.exports}}]);