(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["UnitCheckIn"],{"7d28":function(t,e,a){},"9cdc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"PreBusiness",staticStyle:{height:"100%",width:"1200px",margin:"auto",padding:"50px 0"}},[a("a-layout",{staticClass:"preBusinessLayout"},[a("a-layout-header",{staticClass:"pageHeader"},[a("a-steps",{attrs:{current:t.stepData.current,size:"small"}},t._l(t.stepData.steps,(function(t,e){return a("a-step",{key:e,attrs:{title:t.title}})})),1)],1),a("a-layout-content",{staticClass:"content"},[0===t.stepData.current?[a("CommonForm",{ref:"zgTable"})]:t._e(),1===t.stepData.current?[a("a-result",{attrs:{status:"success",title:"您提交成功","sub-title":""}}),a("div",{staticStyle:{"text-align":"center"}},[a("a-row",{attrs:{gutter:4,type:"flex",justify:"center",align:"middle"}},[a("a-col",{attrs:{span:4}},[a("a-button",{attrs:{type:"primary"},on:{click:t.hadleRefresh}},[t._v("继续申请")])],1),a("a-col",{attrs:{span:4}},[a("a-button",{attrs:{type:"primary"},on:{click:t.handleQueryMore}},[t._v("查看申请详情")])],1),a("a-col",{attrs:{span:4}},[a("a-button",{attrs:{type:"primary"},on:{click:t.backHome}},[t._v("返回首页")])],1)],1)],1)]:t._e()],2),a("a-layout-footer",{staticClass:"footer"},[0===t.stepData.current?a("a-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("提交申请")]):t._e()],1)],1)],1)},n=[],i=a("5530"),r=a("ba93"),o=a("2f62"),u=a("ed08"),c=a("2af9"),l=a("e97f"),p={name:"ApplyForSettle",components:{CommonForm:l["default"],Result:c["b"]},inject:["reloadRoot"],props:{},data:function(){return{lightApi:r["a"],pageHeight:0,stepData:{current:0,steps:[{title:"申请表单"},{title:"结果"}]},docunid:"",saveData:{}}},computed:Object(i["a"])({},Object(o["c"])({user:"userInfo"})),watch:{},created:function(){this.pageHeight=window.innerHeight},mounted:function(){this.docunid=this.$route.params.docunid,this._.isEmpty(this.user)||this._.isEmpty(this.docunid)||this.GetPersonAppointmentDetail()},updated:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["setPageNum","setDocunid"])),{},{GetPersonAppointmentDetail:function(t){var e=this;this.$WebApi.busiProcess["GetPersonAppointmentDetail"]({sRID:this.docunid}).then((function(t){var a={};e.saveData=t.rowsList[0],a.REC_DZYX=e.saveData.DZYX,a.REC_GCMC=e.saveData.GCMC,a.REC_GCXXDD=e.saveData.GCXXDD,a.REC_GCBH=e.saveData.GGZH,a.REC_WTDW=e.saveData.JSDW,a.REC_JSXZ=e.saveData.JSXZ,a.REC_LXDH=e.saveData.LXDH,a.REC_LXR=e.saveData.LXR,a.REC_QJFS=e.saveData.QJFS,a.REC_TDLY=e.saveData.TDLY,a.REC_XZQ=e.saveData.XZQ,e.$refs.zgTable.form=Object(i["a"])({},a)})).catch((function(t){}))},handleSubmit:function(){if(this.$refs.zgTable.isFulfillSubmit()){var t=JSON.parse(JSON.stringify(this.$refs.zgTable.getFormData()));t["userid"]=this.user.userID,t["docunid"]=this.docunid,this.handleSubmitData(t),this.stepData.current++}else this.$message.warning("请您检查表单是否有必填项未填！")},handleSubmitData:function(t){this.$WebApi.preBusiness["SubmitEntrust"]({data:JSON.stringify(t)}).then((function(t){})).catch((function(t){}))},handleQueryMore:function(){this.$router.push({name:"businessProcess",params:{hasRefresh:!0}})},hadleRefresh:function(){var t=this;u["a"].reloadComponent(t)},backHome:function(){this.$router.push("/portal/home")}})},d=p,h=(a("d34f"),a("2877")),f=Object(h["a"])(d,s,n,!1,null,"5568e210",null);e["default"]=f.exports},d34f:function(t,e,a){"use strict";a("7d28")}}]);