(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-137c251d","chunk-45fd51f9","chunk-75e40762","chunk-2d2307dd"],{"0dac":function(e,t,r){"use strict";r("c810")},2909:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var a=r("6b75");function n(e){if(Array.isArray(e))return Object(a["a"])(e)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("d3b7"),r("3ca3"),r("ddb0");function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var o=r("06c5");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return n(e)||s(e)||Object(o["a"])(e)||i()}},"4c6d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-table",{attrs:{size:"small",columns:e.columns,"data-source":e.data,loading:e.tableLoading,pagination:e.pagination,rowKey:function(e){return e["tableIndex"]},expandedRowKeys:e.expandedRowKeys},on:{expandedRowsChange:e.expandedRowsChange},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return[t.FJLIST&&t.FJLIST.length>0?[e._l(t.FJLIST,(function(a,n){return[r("a-row",{key:n,style:{marginBottom:"4px",textAlign:"left",background:"#E6F7FF"}},[r("a-col",{staticStyle:{left:"45px"},attrs:{span:"18"}},[r("a",{style:{marginRight:"10px"},attrs:{href:a.FJURL,target:"_blank"}},[e._v(e._s(a.FJNAME||"-"))])]),r("a-col",{staticStyle:{"text-align":"right",right:"40px"},attrs:{span:"6"}},[0==e.disabled?r("a-button",{attrs:{type:"link",size:"small"},on:{click:function(r){return e.deleteFile(t,n)}}},[e._v("删除")]):e._e()],1)],1)]}))]:r("s-empty")]}},{key:"action",fn:function(t,a){return[r("a-upload",{attrs:{action:e.MaterialUpload,multiple:!0,"file-list":a.action,showUploadList:!1},on:{change:function(t){return e.handleChange(t,a)}}},[r("a-button",{attrs:{size:"small",type:"primary",icon:"upload"}})],1)]}}])})],1)},n=[],s=(r("d81d"),r("a434"),r("2909")),o=r("5530"),i=r("377c"),l=r("ed08"),u=r("b405"),d={name:"UploadTable",components:{"s-empty":u["default"]},props:{tableData:{default:function(){},type:Object,required:!0},disabled:{default:!1,type:Boolean,required:!1},pagination:{default:!1,type:Boolean,required:!1}},data:function(){return{showTemplate:!0,data:[],columns:[],tableLoading:!1,MaterialUpload:i["K"],expandedRowKeys:[]}},computed:{},watch:{tableData:{handler:function(e,t){if(!this._.isEmpty(e)){this.tableLoading=!0;var r=JSON.parse(JSON.stringify(this.tableData));this.columns=this.getTableColumn(r),this.data=this.getTableData(r),this.handleExpandedRows(),this.tableLoading=!1}},immediate:!0,deep:!0}},created:function(){},mounted:function(){},methods:{getTableColumn:function(e){if(this._.isEmpty(e))return{};var t=l["b"].handleColumns(e);return t.push({dataIndex:"action",key:"action",title:"操作",scopedSlots:{customRender:"action"}}),t},getTableData:function(e){var t=[];if(this._.isEmpty(e))t=[];else{var r=e.rowsList;r&&(t=r.map((function(e,t){return Object(o["a"])(Object(o["a"])({},e),{},{tableIndex:t,action:[]})})))}return t},handleChange:function(e,t){var r=Object(s["a"])(e.fileList),a=e.file;a.response&&"done"===a.status?0===a.response.code?(t.FJLIST.push({FJNAME:a.response.data[0].fileName,FJURL:a.response.data[0].fileUrl}),this.expandedRowKeys.push(t.tableIndex)):this.$message.error("文件上传失败！"):"error"===a.status&&this.$message.error("文件上传失败！"),r=r.map((function(e){return e.response&&"done"===e.status&&e.response.code,e})),t.action=r},deleteFile:function(e,t){e.FJLIST.splice(t,1),e.FJLIST&&0===e.FJLIST.length&&(this.expandedRowKeys=[])},getSubmitData:function(){var e=JSON.parse(JSON.stringify(this.data));return e.map((function(e,t){return delete e.tableIndex,delete e.action,e}))},isAllSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!0;return this.data&&this.data.length>0?this.data.map((function(r,a){e?r.FJLIST.length<=0&&r.SFBX&&"是"===r.SFBX&&(t=!1):r.FJLIST.length<=0&&(t=!1)})):t=!1,t},handleExpandedRows:function(){var e=this;this.data.map((function(t,r){t.FJLIST&&t.FJLIST.length>0&&e.expandedRowKeys.push(t.tableIndex)}))},expandedRowsChange:function(e){this.expandedRowKeys=e}}},c=d,m=(r("0dac"),r("2877")),f=Object(m["a"])(c,a,n,!1,null,"681a6d02",null);t["default"]=f.exports},b405:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-empty",{attrs:{image:e.imgPath,"image-style":{height:e.height}}},[r("span",{attrs:{slot:"description"},slot:"description"})])},n=[],s={name:"SEmpty",components:{},props:{height:{default:"100%",type:String}},data:function(){return{imgPath:r("f3f6")}},computed:{},watch:{},created:function(){},methods:{}},o=s,i=r("2877"),l=Object(i["a"])(o,a,n,!1,null,"138622d4",null);t["default"]=l.exports},c810:function(e,t,r){},e97f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{padding:"0 20px 0 0"}},[r("a-form-model",{ref:"ruleForm",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-col":{span:4},"wrapper-col":{span:20}}},[r("a-form-model-item",{ref:"username",attrs:{label:"用户名",prop:"username"}},[r("a-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("a-form-model-item",{ref:"password",attrs:{label:"密码",prop:"password"}},[r("a-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("a-form-model-item",{ref:"password2",attrs:{label:"确认密码",prop:"password2"}},[r("a-input",{attrs:{placeholder:"请再次输入密码",type:"password"},model:{value:e.form.password2,callback:function(t){e.$set(e.form,"password2",t)},expression:"form.password2"}})],1),r("a-form-model-item",{ref:"dwmc",attrs:{label:"单位名称",prop:"dwmc"}},[r("a-input",{attrs:{placeholder:"请输入注册用户单位名称"},model:{value:e.form.dwmc,callback:function(t){e.$set(e.form,"dwmc",t)},expression:"form.dwmc"}})],1),r("a-form-model-item",{ref:"lxr",attrs:{label:"姓名",prop:"lxr"}},[r("a-input",{attrs:{placeholder:"请输入联系人姓名"},model:{value:e.form.lxr,callback:function(t){e.$set(e.form,"lxr",t)},expression:"form.lxr"}})],1),r("a-form-model-item",{ref:"tyshxydm",attrs:{label:"统一社会信用代码",prop:"tyshxydm"}},[r("a-input",{attrs:{placeholder:"请输入统一社会信用代码"},model:{value:e.form.tyshxydm,callback:function(t){e.$set(e.form,"tyshxydm",t)},expression:"form.tyshxydm"}})],1),r("a-form-model-item",{ref:"REC_DZYX",attrs:{label:"电子邮箱",prop:"REC_DZYX"}},[r("a-input",{model:{value:e.form.REC_DZYX,callback:function(t){e.$set(e.form,"REC_DZYX",t)},expression:"form.REC_DZYX"}})],1),r("a-form-model-item",{ref:"REC_LXDH",attrs:{label:"联系电话",prop:"REC_LXDH"}},[r("a-input",{attrs:{placeholder:"例如：020-23380999 或者 15812341234"},model:{value:e.form.REC_LXDH,callback:function(t){e.$set(e.form,"REC_LXDH",t)},expression:"form.REC_LXDH"}})],1)],1)],1)},n=[],s=(r("d81d"),r("5530")),o=r("2f62"),i=r("04b8"),l=r("ba93"),u=r("4c6d"),d={name:"CommonForm",components:{"upload-table":u["default"]},props:{},data:function(){var e=this;return{lightApi:l["a"],innerData:{DWXZ_LIST:["企业","事业单位","社会组织"],DZHY_LIST:["是","否"],ZCZBMZ_LIST:["人民币","美元"],BGDZSF_LIST:["中山市","广州市","东莞市"],ZCDZSF_LIST:["中国","美国"],FRZJLX_LIST:["身份证","护照"],YWSQDLRZJLX_LIST:["身份证","护照"]},form:{username:"",password:"",password2:"",dwmc:"",zcxxdz:"",lxr:"",tyshxydm:"",DWXZ:"",REC_DZHY:"",REC_SHTYXYDM:"",FRDB:"",FRZJLX:"",FRDBZJH:"",ZCZBMZ:"",ZCZB:"",YYYXQZ:[],JYFW:"",REC_ZCDYB:"",ZCDZSF:"",ZCXXDZ:"",REC_BGDYB:"",REC_YWSQDLR:"",REC_YWSQDLRZJLX:"",REC_YWSQDLRZJH:"",BGDZSF:"",BGXXDZ:"",REC_LXDH:"",REC_DZYX:"",FILE:[]},rules:{username:[{required:!0,message:"请输入用户名",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]}],password2:[{required:!0,message:"请再次输入密码",trigger:["blur","change"]}],dwmc:[{required:!0,message:"请输入注册用户单位名称",trigger:["blur","change"]}],zcxxdz:[{required:!0,message:"请输入单位注册详细地址",trigger:["blur","change"]}],lxr:[{required:!0,message:"请输入联系人姓名",trigger:["blur","change"]}],tyshxydm:[{required:!0,message:"请输入统一社会信用代码",trigger:["blur","change"]}],DWXZ:[{required:!0,message:"请选择机构性质",trigger:["blur","change"]}],REC_DZHY:[{required:!0,message:"请选择多证合一选项",trigger:["blur","change"]}],REC_SHTYXYDM:[{required:!0,message:"请输入社会统一信用代码",trigger:["blur","change"]}],FRDB:[{required:!0,message:"请输入法定代表人",trigger:["blur","change"]}],FRZJLX:[{required:!0,message:"请选择法定代表人证件类型",trigger:["blur","change"]}],FRDBZJH:[{required:!0,message:"请输入法定代表人证件号",trigger:["blur","change"]}],ZCZBMZ:[{required:!0,message:"请选择注册资本币种",trigger:["blur","change"]}],ZCZB:[{required:!0,message:"请输入注册资本",trigger:["blur","change"]}],YYYXQZ:[{required:!0,message:"请选择营业有效期",trigger:["blur","change"]}],JYFW:[{required:!0,message:"请输入经营范围",trigger:["blur","change"]}],REC_ZCDYB:[{required:!0,message:"请输入注册地邮编",trigger:["blur","change"]}],ZCDZSF:[{required:!0,message:"请选择注册地省份",trigger:["blur","change"]}],ZCXXDZ:[{required:!0,message:"请输入注册地址详细信息",trigger:["blur","change"]}],REC_BGDYB:[{required:!0,message:"请输入办公地邮编",trigger:["blur","change"]}],REC_YWSQDLR:[{required:!0,message:"请输入业务授权代理人",trigger:["blur","change"]}],REC_YWSQDLRZJLX:[{required:!0,message:"请选择业务授权代理人证件类型",trigger:["blur","change"]}],REC_YWSQDLRZJH:[{required:!0,message:"请输入业务授权代理人证件号",trigger:["blur","change"]}],BGDZSF:[{required:!0,message:"请选择办公地省份",trigger:["blur","change"]}],BGXXDZ:[{required:!0,message:"请输入办公地址详细信息",trigger:["blur","change"]}],FILE:[{required:!0,message:"请上传所有材料",validator:function(t,r,a){e.$refs.dfTable.isAllSubmit()?a():a(new Error("请上传所有材料"))}}],REC_DZYX:[{required:!0,message:"请正确输入邮箱",trigger:["blur","change"],validator:function(e,t,r){Object(i["a"])(t)?r():r(new Error("请正确输入邮箱"))}}],REC_LXDH:[{required:!0,message:"请正确输入联系电话",trigger:["blur","change"],validator:function(e,t,r){Object(i["d"])(t)||Object(i["c"])(t)?r():r(new Error("请正确输入联系电话"))}}]},GCDDSelectList:[],tableData:{columns:[],hideColumns:[],rowsList:[]}}},computed:Object(s["a"])({},Object(o["c"])({user:"userInfo"})),watch:{"form.BGDZSF":{handler:function(e,t){e&&this.handleXZQChange(e)},deep:!0}},created:function(){},mounted:function(){this.getDataFromUserInfo(),this.getYWWT(),this.tableData=this.getTableData()},methods:{getDataFromUserInfo:function(){var e=this.user;for(var t in e)e.hasOwnProperty(t)&&("MAILBOX"===t&&(this.form["REC_DZYX"]=e[t]),"MOBILEPHONE"===t&&(this.form["REC_LXDH"]=e[t]))},getYWWT:function(){var e=this;this.$WebApi.preBusiness["GetSurveyAndLocal"]().then((function(t){if(t.hasOwnProperty("XZQ")){var r=t["XZQ"].map((function(e,t){return e["value"]}));e.GCDDSelectList=r}})).catch((function(e){}))},handleXZQChange:function(e){},clsxChange:function(e){},getTableData:function(){return{columns:[{label:"序号",key:"index",type:"text"},{label:"材料名称",key:"CLMC",type:"text"},{label:"备注说明",key:"BZSM",type:"text"},{label:"附件",key:"FJLIST",type:"text"}],hideColumns:["BZSM","FJLIST"],rowsList:[{index:"1",CLMC:"规划核实测量委托书",BZSM:"",FJLIST:[]},{index:"2",CLMC:"土地测绘委托书",BZSM:"",FJLIST:[]},{index:"3",CLMC:"房产实测委托书",BZSM:"",FJLIST:[]}]}},isFulfillSubmit:function(){var e;return this.$refs.ruleForm.validate((function(t,r){if(!t)return e=!1,!1;e=!0})),e},getFormData:function(){var e=JSON.parse(JSON.stringify(this.form)),t=[];return e.YYYXQZ&&e.YYYXQZ.length>0&&(t=e.YYYXQZ.map((function(e,t){return e.format("YYYY-MM-DD")}))),e.YYYXQZ=t,e.FILE=this.$refs.dfTable.getSubmitData(),e},handleDWXZChange:function(){},handleDZHYChange:function(){},handleZCZBMZChange:function(){},handleYYYXQChange:function(e,t){},handleBGDZSFChange:function(){},handleZCDZSFChange:function(){},handleFRZJLXChange:function(){},handleYWSQDLRZJLXChange:function(){}}},c=d,m=r("2877"),f=Object(m["a"])(c,a,n,!1,null,"c59ca8ee",null);t["default"]=f.exports},ed08:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}));r("4de4"),r("d81d"),r("45fc");var a={handleResultTableData:function(e){var t=[],r=[],a=[];return Array.isArray(e)?(t=e[0].tableResults.columns,r=e[0].tableResults.hideColumns,a=e[0].tableResults.rowsList):Window._.isPlainObject(e)&&e.hasOwnProperty("tableResults")?(t=e.tableResults.columns,r=e.tableResults.hideColumns,a=e.tableResults.rowsList):(t=e.columns,r=e.hideColumns,a=e.rowsList),{columns:t,hideColumns:r,rowsList:a}},deleteHideColumns:function(e){var t=this.handleResultTableData(e),r=t.columns,a=t.hideColumns;t.rowsList;return r.filter((function(e){return!a.some((function(t){return t===e["key"]}))}))},handleColumns:function(e){var t=this.handleResultTableData(e),r=t.columns,a=t.hideColumns,n=(t.rowsList,r.filter((function(e){return!a.some((function(t){return e.key===t}))})));return n.map((function(e,t){return{dataIndex:e["key"],key:e["key"],scopedSlots:{customRender:e["key"]},title:e["label"]}}))},table2Desc:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=t,n=this.handleResultTableData(e),s=n.columns,o=n.hideColumns,i=n.rowsList,l=[];l=r?s.filter((function(e){return!o.some((function(t){return t===e["key"]}))})):s;var u=i.map((function(e,t){var r=[];return l.map((function(t,n){"textarea"===t.type?r.push({label:t.label,key:t.key,value:e[t.key],span:3}):r.push({label:t.label,key:t.key,value:e[t.key],span:a})})),r}));return u}},n={reloadComponent:function(e){var t=e.$route.path;e.$router.push({path:"/FixRouter",query:{path:t}})}}},f3f6:function(e,t,r){e.exports=r.p+"img/empty.eb1f7831.png"}}]);