(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79cc4aae"],{"3ab1":function(t,a,e){},6582:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-modal",{attrs:{title:t.modalData.title,footer:null,afterClose:t.modelCloseCommitVuex,width:"800px"},on:{ok:t.handleModalOk},model:{value:t.modalData.visible,callback:function(a){t.$set(t.modalData,"visible",a)},expression:"modalData.visible"}},[e("div",{staticClass:"amap-page-container",attrs:{id:"amap"}},[e("el-amap",{staticClass:"amap-demo",attrs:{vid:"amapDemo3",center:t.mapData.center,zoom:t.mapData.zoom}},[e("el-amap-circle-marker",{attrs:{center:t.mapData.marker.center,radius:t.mapData.marker.radius,"fill-color":t.mapData.marker.fillColor,"fill-opacity":t.mapData.marker.fillOpacity,events:t.mapData.marker.events}}),e("el-amap-info-window",{attrs:{position:t.mapData.window.position,visible:t.mapData.window.visible,content:t.mapData.window.content}})],1)],1)])},o=[],n=(e("b0c0"),e("a9e3"),e("ac1f"),e("1276"),e("96cf"),e("1da1")),r=e("8f9b"),s=e.n(r),l=e("8bbf"),c=e.n(l),m=e("cebe"),d=e.n(m);c.a.use(s.a);var p={name:"MapModal",data:function(){var t=this;return{modalData:{visible:!1,title:"这只是一个标题"},mapData:{center:[111.619794,26.43678],zoom:11,marker:{center:[111.619794,26.43678],radius:20,fillColor:"rgba(220,20,60,1)",fillOpacity:2,events:{click:function(){t.mapData.window.visible=!t.mapData.window.visible}}},window:{position:[111.619794,26.43678],visible:!0,content:"我只是一个窗口"}}}},watch:{"$store.state.contact.mapModelState":function(t){t&&this.go2Address(this.$store.state.contact.contactItem)}},methods:{go2Address:function(t){if(this.$set(this.modalData,"title",t.name),this.$set(this.mapData.window,"content",t.name),t.longitude&&t.latitude)this.$set(this.mapData,"center",[Number(t.longitude),Number(t.latitude)]),this.$set(this.mapData.marker,"center",[Number(t.longitude),Number(t.latitude)]),this.$set(this.mapData.window,"position",[Number(t.longitude),Number(t.latitude)]);else{var a=this.getLocation(t.address),e=a[0],i=a[1];this.$set(this.mapData,"center",[Number(e),Number(i)]),this.$set(this.mapData.marker,"center",[Number(e),Number(i)]),this.$set(this.mapData.window,"position",[Number(e),Number(i)])}this.showMap(),this.modalData.visible=!0},handleModalOk:function(){this.modalData.visible=!1},modelCloseCommitVuex:function(){this.$store.commit("CHANGE_MAP_MODEL_STATE",!1)},showMap:function(){s.a.initAMapApiLoader({key:"38bc8138adb1cb845be46f3873d73db8",plugin:["Autocomplete","PlaceSearch","Scale","OverView","ToolBar","MapType","PolyEditor","AMap.CircleEditor"],v:"1.4.4"})},getLocation:function(t){return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d()({method:"get",url:"https://restapi.amap.com/v3/geocode/geo",params:{key:"38bc8138adb1cb845be46f3873d73db8",address:t}});case 3:return e=a.sent,i=e.data.geocodes[0].location.split(","),a.abrupt("return",i);case 8:a.prev=8,a.t0=a["catch"](0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},u=p,b=(e("b77f"),e("2877")),h=Object(b["a"])(u,i,o,!1,null,"d1dc7a5e",null);a["default"]=h.exports},b77f:function(t,a,e){"use strict";e("3ab1")}}]);